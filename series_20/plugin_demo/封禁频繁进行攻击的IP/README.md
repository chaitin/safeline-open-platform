# 版本要求

`>= 19.07.001`

# 用途描述

封禁在 30 分钟内发起 3 次或以上攻击的 IP，生效周期为 5 秒

# 适用场景

客户业务敏感，拒绝为有攻击行为的 IP 提供服务时可以使用此插件

# 已知缺陷

- 目前 Plumber SQL 不支持以攻击检测日志作为数据源，从访问日志中筛选攻击请求导致了一些额外开销
- 当前的实现会重复封禁 IP，对管理后台压力较大

# 性能参数

- 单机版单核最大 QPS：15000
- 每封禁一个 IP 带来的单次执行开销约为 5ms

# 可调整参数

- `arg_range` 整数，统计范围，单位为秒
- `arg_period` 整数，统计周期（多久统计一次），单位为秒
- `arg_threshold` 整数，封禁阈值，当攻击数超过该值时执行封禁操作

即：封禁在 `arg_range` 秒内发起 `arg_threshold` 次或以上攻击的 IP，生效周期为 `arg_period` 秒
